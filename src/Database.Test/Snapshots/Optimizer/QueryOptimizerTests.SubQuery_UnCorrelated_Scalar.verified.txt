
            select count(*) as count
            from table t
            where t.CategoricalInt = (
                select max(CategoricalInt)
                from table q
                where q.CategoricalString = 'cat'
            )
        

Original
PlanWithSubQueries(c=0, u=1) -> .count
 Project(max(CategoricalInt)) -> .max(CategoricalInt) 
    Agg(max(CategoricalInt)) group by () -> .max(CategoricalInt)    
       Filter(CategoricalString = cat) -> q.Id, q.Unordered, q.Name, q.CategoricalInt, q.CategoricalString       
          Scan(table) -> q.Id, q.Unordered, q.Name, q.CategoricalInt, q.CategoricalString          
 Project(count) -> .count 
    Agg(count(*)) group by () -> .count    
       Filter(CategoricalInt = subquery(1)) -> t.Id, t.Unordered, t.Name, t.CategoricalInt, t.CategoricalString       
          Scan(table) -> t.Id, t.Unordered, t.Name, t.CategoricalInt, t.CategoricalString          


Optimized
PlanWithSubQueries(c=0, u=1) -> .count
 Project(max(CategoricalInt)) -> .max(CategoricalInt) 
    Agg(max(CategoricalInt)) group by () -> .max(CategoricalInt)    
       Filter(CategoricalString = cat) -> q.CategoricalInt, q.CategoricalString       
          Scan(table) with projection  -> q.CategoricalInt, q.CategoricalString          
 Project(count) -> .count 
    Agg(count(*)) group by () -> .count    
       Filter(CategoricalInt = subquery(1)) -> t.CategoricalInt       
          Scan(table) with projection  -> t.CategoricalInt          


Cost Optimized
PlanWithSubQueries(u=1) -> .count
 Project(max(CategoricalInt)) cost (output_rows=10000, cpu=10000, disk=0, total=321) -> .max(CategoricalInt) 
    UngroupedAggregate(max(CategoricalInt)) cost (output_rows=10000, cpu=10000, disk=0, total=311) -> .max(CategoricalInt)    
       Filter(CategoricalString = cat) cost (output_rows=10000, cpu=200000, disk=0, total=301) -> q.CategoricalInt, q.CategoricalString       
          FileScan({SolutionDirectory}data.parquet) cost (output_rows=100000, cpu=100000, disk=10, total=101) -> q.CategoricalInt, q.CategoricalString Project(count) cost (output_rows=10000, cpu=10000, disk=0, total=221) -> .count 
    UngroupedAggregate(count(*)) cost (output_rows=10000, cpu=10000, disk=0, total=211) -> .count    
       Filter(CategoricalInt = subquery(1)) cost (output_rows=10000, cpu=100000, disk=0, total=201) -> t.CategoricalInt       
          FileScan({SolutionDirectory}data.parquet) cost (output_rows=100000, cpu=100000, disk=10, total=101) -> t.CategoricalInt